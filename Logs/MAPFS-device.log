time=2025-02-19 17:05:33,750 level=INFO msg=Iniciando el servidor de métricas de Prometheus en el puerto 8012.
time=2025-02-19 17:05:33,753 level=INFO msg=[REG] Conectado al CA en mapfs-cloud:5001
time=2025-02-19 17:05:33,754 level=INFO msg=[REG] Enviada solicitud de registro al CA.
time=2025-02-19 17:05:33,754 level=INFO msg=[REG] Recibidos parámetros públicos del CA: {'Pub_gc_key': {'x': 58982910727406591773149193866434215305321679638060212212698689005489167279185, 'y': 63817539879840375984063540922096817369749874973830313328221850476624983922969}, 'P_IoT_key': {'x': 100960090091552154051890834456325932852527934642453312584702363733081816846557, 'y': 21150871519937674045865178625558738565440444635760214648169543258520515764444}, 'operation': 'register'}.
time=2025-02-19 17:05:33,757 level=INFO msg=[REG] Enviada información de registro al CA {'operation': 'register_device', 'IoT_Identity': 11679040665402917479, 'X_a_pub_key': {'x': 61189463857487663178075343490080676899601074798600380014701290677991295516354, 'y': 79493268907505215903338206292015228082972797601191608088084403171051762590788}, 'h_x': {'x': 86823902999740619875707692010975199539434016120638487308850887676121196510610, 'y': 8414337182904197586420475688776405000960260599724765188031779625099222008798}}.
time=2025-02-19 17:05:33,758 level=INFO msg=[REG] Parámetros recibidos del CA: {'operation': 'register', 'sigma_a': 81987584212939048209455294262141992915142682400762847595323221019073539693500, 'Y_a_pub_key': {'x': 71539334763111142685512005896618077536102456916553484924948750986019160723461, 'y': 89242201029924185639714055929812120302648445017993864614953083400059895818268}, 'h_a': 97368426346339078886110738147852061154768011961811038765454796043135559965403}.
time=2025-02-19 17:05:33,758 level=INFO msg=[REG] Registro completado exitosamente.
time=2025-02-19 17:05:33,759 level=INFO msg=Conectado al Gateway en mapfs-gateway:5000
time=2025-02-19 17:05:33,760 level=INFO msg=[AUTH] Mensaje 'hello' enviado al Gateway {'operation': 'mutual_authentication', 'step': 'hello', 'one_time_public_key': {'x': 106475430139134598601215426924534244214666208279346064446007527433719519528224, 'y': 47491497922498316215860209699981488015963115834066945213518625710643421970153}}.
time=2025-02-19 17:05:33,761 level=INFO msg=[AUTH] Token de autenticación del Gateway recibido: {'operation': b"\x9a\xebnjV\xae\xb6\x17\xa7\xb6'\x1a\xb6*'", 'W': {'x': 7075304573304825258915267801395494285678939556643340562536251826398547408416, 'y': 21180338817384400336871302402103246521157787459437090269354751882633808996398}, 'ID_w': 5054384780250920130, 'X_w_pub_key': {'x': 6578189959177548948709574740954280790149262047476832593467412657065819595506, 'y': 37963870799803303046151828215053941595504197462290236434989911354034400754770}, 'Y_w_pub_key': {'x': 102214760338215359928538113623717914631214926124520697993789234570547299719973, 'y': 45166559857504411170138349254067246163418328523276515073559585692680639798640}, 'sigma_z': 22035900384351997720248319384682052162839293349070970648844556256632770058092}
time=2025-02-19 17:05:33,765 level=INFO msg=[AUTH] Autenticación de la firma del Gateway exitosa.
time=2025-02-19 17:05:33,769 level=INFO msg=[AUTH] La llave de sesión en el dispositivo IoT es: 1150601951641441
time=2025-02-19 17:05:33,771 level=INFO msg=[AUTH] Cómputo de la firma del dispositivo IoT completada.
time=2025-02-19 17:05:33,772 level=INFO msg=[AUTH] Puntos, compromisos y respuestas ZKP enviadas al gateway: {'operation': 'mutual_authentication', 'P_1': {'x': 103116910691225606150774173475940239455964326490195350756650895726760196847460, 'y': 65438112375681273859679102912044113108441890804318611467087011526209780630547}, 'P_2': {'x': 86215271550255995731302943624154374052601081872048195046994341707784154220995, 'y': 3863098552427277586716796482272211621010017258266039256647117364643728148955}, 'P_3': {'x': 107709700121449479330852206968555649372139464983838092151229586567558049915033, 'y': 76857439954722300954763813964688757966546706103601524299458724116817978953857}, 'sigma_t': 97910715803021205002449301961672380513048830132518627469670228733640288382226, 'T_1': {'x': 107381446757656876217428187988407382471205732871860150528750368827627610081791, 'y': 21662303064867649406652574112662208029344975536086212171575848409305719412780}, 'T_2': {'x': 101498542707727177346048494584066209560834536010202983902911873241280488059756, 'y': 110472596591694216834808065583312915999272014812744315513833651958197415148920}, 's_1': 36835828021441999868285354381094515067294351302442198890728486900562552648800, 's_2': 101089827560090553661443990583319172658245736876028316891424787357169766870074}
time=2025-02-19 17:05:33,785 level=INFO msg=[AUTH] Autenticación mutua culminada.
time=2025-02-19 17:05:33,786 level=INFO msg=[METRICS] Métricas cifradas enviadas al Gateway: {'temperature': 22.73, 'humidity': 60.37}
time=2025-02-19 17:05:33,787 level=INFO msg=[METRICS] Respuesta recibida del Gateway: response_message = {'status': 'success', 'message': 'Métricas recibidas correctamente.'}
time=2025-02-19 17:06:33,791 level=INFO msg=[METRICS] Métricas cifradas enviadas al Gateway: {'temperature': 20.68, 'humidity': 64.21}
time=2025-02-19 17:06:33,792 level=INFO msg=[METRICS] Respuesta recibida del Gateway: response_message = {'status': 'success', 'message': 'Métricas recibidas correctamente.'}
